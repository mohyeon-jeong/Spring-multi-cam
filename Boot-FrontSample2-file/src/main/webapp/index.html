<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<title>Insert title here</title>
</head>
<body>
	<h3>file upload</h3>
	<p id="fileResult">..</p>
	<form id="uploadFileForm">
		number : <input type="text" name="number" value="1002"><br>
		name : <input type="text" name="name" value="hong"><br>
		address : <input type="text" name="address" value="Seoul"><br>
		<br>
		file : <input type="file" name="uploadFile"><br><br>
		<button type="button" id="uploadBtn">file upload</button>
	</form>
	<script type="text/javascript">
		$("#uploadBtn").click(function() {
			$.ajax({
				url: "http://localhost:3000/fileUpload",
				type: "post",
				data: new FormData($("#uploadFileForm")[0]),
				enctype: "multipart/form-data",
				processData: false,
				contentType: false,
				cache: false,
				success: function(str) {
					alert("success");
					$("#fileResult").text(str);
				},
				error: function() {
					alert("file upload error");
				}
			})
		})
	</script>
	<br><br>
	<h3>file download</h3>
	<button type="button" id="downloadBtn">file download</button>
	<script type="text/javascript">
		$("#downloadBtn").click(function() {
			/* $.ajax({
				url: "http://localhost:3000/fileDownload",
				type: "get",
				data: { filename:"i14752514639.jpg" },
				success: function() {
					alert("fileDownload success");
				},
				error: function() {
					alert("fileDownload failed");
				}
			}) - 다운로드는 이렇게 쓰면 안됨 */
			location.href = "http://localhost:3000/fileDownload?filename=" + "30.png";
		})
	</script>
</body>
</html>


























